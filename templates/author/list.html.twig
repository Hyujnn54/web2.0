{% if authors is defined and authors is not empty %}
    <h2>Liste des auteurs</h2>
    <ul>
        {% for author in authors %}
            <li>
                <img src="{{ author.picture }}" alt="{{ author.username }}" width="100">
                <strong>{{ author.username|upper }}</strong> - {{ author.email }}
                | Livres : {{ author.nb_books }}
                | <a href="{{ path('app_author_details', {'id': author.id}) }}">Details</a>
            </li>
        {% endfor %}
    </ul>

    <p>Nombre d'auteurs : {{ authors|length }}</p>
    <p>Nombre total de livres : 
        {{ authors|map(a => a.nb_books)|reduce((carry, v) => carry + v) }}
    </p>
{% else %}
    <p>Aucun auteur trouv√©.</p>
{% endif %}
